<!doctype html>
<html>
  <head>
    <link rel="stylesheet" href="http://elm-in-action.com/styles.css">
    <script src="http://elm-in-action.com/polyfill/webcomponents.js"></script>
    <link rel="import"
          href="http://elm-in-action.com/wc/slider/paper-slider.html">
  </head>
  <body>
    <div id="elm-area"></div>
    <script src="http://elm-in-action.com/pasta.js"></script>
    <script src="elm.js"></script>
    <script>
      const app = Elm.PhotoGallery.embed(document.getElementById("elm-area"), Pasta.version);

      // requestAnimationFrame runs the callback after `view` results in a DOM update
      app.ports.setFilters.subscribe(options => requestAnimationFrame(() => Pasta.apply(document.getElementById("main-canvas"), options)));

      Pasta.addStatusListener(status => app.ports.statusChanges.send(status));
    </script>
  </body>
</html>
